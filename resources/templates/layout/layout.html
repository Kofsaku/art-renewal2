<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	data-bs-theme="light">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="_csrf" th:content="${_csrf.token}"/>
	<meta name="_csrf_header" th:content="${_csrf.headerName}"/>
	<link rel="stylesheet" th:href="@{/css/common.css}" />
	<link rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.0/css/bootstrap.min.css}"/>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700&display=swap" rel="stylesheet">
	<title th:text="#{layout.title}">TRIDENT</title>
	<script type="text/javascript" th:src="@{/js/jquery/3.7.1/jquery.min.js}"></script>
	<script type="text/javascript" th:src="@{/js/common.js}"></script>
	<script type="text/javascript" th:src="@{/js/popper.min.js}"></script>
	<script type="text/javascript" th:src="@{/webjars/bootstrap/5.3.0/js/bootstrap.min.js}"></script>
</head>

<body class="td-body">

	<!-- サイドメニュー -->
	<div class="td-overlay" id="menuOverlay"></div>
	<nav class="td-sidemenu" id="sideMenu">
		<div class="td-sidemenu-header">
			<span class="td-sidemenu-title">メニュー</span>
			<button class="td-sidemenu-close" id="menuClose"><i class="fas fa-times"></i></button>
		</div>
		<ul class="td-sidemenu-list">
			<li><a th:href="@{/dataMonitor}"><i class="fas fa-table"></i>データモニター</a></li>
			<li><a th:href="@{/statusMonitor}"><i class="fas fa-th-large"></i>ステータスモニター</a></li>
			<li><a th:href="@{/mapMonitor}"><i class="fas fa-map"></i>マップモニター</a></li>
			<li><a th:href="@{/personalList}"><i class="fas fa-users"></i>個人情報一覧</a></li>
			<li><a th:href="@{/personalRegistration}"><i class="fas fa-user-plus"></i>個人情報登録</a></li>
			<li><a th:href="@{/historyReport}"><i class="fas fa-file-alt"></i>履歴レポート</a></li>
		</ul>
	</nav>

	<!-- ヘッダー -->
	<header class="td-header">
		<!-- ハンバーガー -->
		<button class="td-hamburger" id="menuOpen" title="メニュー">
			<i class="fas fa-bars"></i>
		</button>

		<!-- システムロゴ（TODO: 正式ロゴ画像に差し替え） -->
		<span class="td-logo">プレースホルダー</span>

		<!-- ページ固有コントロール（各ページで上書き） -->
		<div layout:fragment="header-controls" class="td-header-controls">
		</div>

		<!-- 設定ボタン -->
		<button class="td-settings-btn" title="設定">
			<i class="fas fa-cog"></i>
		</button>
	</header>

	<!-- メインコンテンツ -->
	<main class="td-main">
		<div layout:fragment="content" th:remove="tag"></div>
	</main>

	<!-- ページ固有フッター凡例（各ページで上書き） -->
	<div layout:fragment="page-legend"></div>

	<!-- フッター -->
	<footer class="td-footer">
		<small>© ART CO., LTD. All Rights Reserved.</small>
	</footer>

	<input type="hidden" name="serverErrorMessage" id="serverErrorMessage" th:value="#{error.serverError}">
	<script>
	(function(){
		const overlay = document.getElementById('menuOverlay');
		const menu    = document.getElementById('sideMenu');
		const open    = document.getElementById('menuOpen');
		const close   = document.getElementById('menuClose');
		function show(){ menu.classList.add('open'); overlay.classList.add('open'); }
		function hide(){ menu.classList.remove('open'); overlay.classList.remove('open'); }
		open.addEventListener('click', show);
		close.addEventListener('click', hide);
		overlay.addEventListener('click', hide);
	})();
	</script>
</body>
</html>
